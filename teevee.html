<head>
  <meta charset="utf-8">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,900,300' rel='stylesheet' type='text/css'>
  <title>TeeVee</title>
</head>

<body>
  <div class='wrapper'>
    
    <div class="authenticated {{#unless currentUser}}is-hidden{{/unless}}">
      {{> search }}  
      
      {{> show_info }}
      {{> episode_list }}
    </div>
    <div class="card authentication">
      {{> loginButtons}}
    </div>
      
  </div>
</body>

<template name='search'>
  <header class="card">
    <h1 class='logo'>Teevee</h1>
    <input type='text' name='search_for_show' class='search-for-show typeahead' autocomplete='off' spellcheck='off' data-source='retrieveSuggestions' data-select='goToShow' placeholder="Start Typing a Show...">
  </header>
</template>

<template name='show_info'>
  {{#if tv_show}}
    <div class="card show-info">
      <div class="show-image">
        <img src="{{tv_show.image.original}}">
      </div>
      <div class="show-description">
        <h4 class='show-name'>{{tv_show.name}}</h4>
        <h6 class='show-genre'>{{formatted_genre}}</h6>
        {{{tv_show.summary}}}
        
        <h6 class='show-status {{tv_show.status}}'>{{tv_show.status}}</h6>
        
      </div>
      
    </div>
  {{/if}}
</template>




<template name='season'>
  <h4>Season {{this.[0].season}}</h4>
  <button type="button" class="mark all">All</button> 
  <button type="button" class="mark none">None</button>
  <ul>
    {{#each this}}
      {{> episode}}
    {{/each}}
  </ul>
</template>

<template name='episode_list'>
  {{#if seasons}}
    <div class="card episode-list">
      {{#each seasons}}
        {{> season}}
      {{/each}}
    </div>
  {{/if}}
</template>

<template name='episode'>
  <li class="{{#if seen}}seen{{/if}}">
    <input type='checkbox' name='{{name}}' id='{{id}}' checked='{{seen}}' class='episode-checkbox'>
    <label for='{{id}}'>
      <strong class='show-formatted-season-episode'>S{{season}}E{{number}}</strong> - <span class='show-name'>{{name}}</span>
    </label>
  </li>
</template>
